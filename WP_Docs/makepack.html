<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>制作 WTDR.Pack 包 | WTDR</title>
    <meta name="description" content="操作系统部署辅助工具">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.d58853c8.css" as="style"><link rel="preload" href="/assets/js/app.796c51a0.js" as="script"><link rel="preload" href="/assets/js/3.26375005.js" as="script"><link rel="preload" href="/assets/js/31.1956596c.js" as="script"><link rel="preload" href="/assets/js/4.ad5248e6.js" as="script"><link rel="prefetch" href="/assets/js/10.ff54e66c.js"><link rel="prefetch" href="/assets/js/11.5c8df907.js"><link rel="prefetch" href="/assets/js/12.e224ef2e.js"><link rel="prefetch" href="/assets/js/13.9db6285e.js"><link rel="prefetch" href="/assets/js/14.cb83d2ce.js"><link rel="prefetch" href="/assets/js/15.e9f74052.js"><link rel="prefetch" href="/assets/js/16.8e862429.js"><link rel="prefetch" href="/assets/js/17.7c488285.js"><link rel="prefetch" href="/assets/js/18.eb10015a.js"><link rel="prefetch" href="/assets/js/19.9050468d.js"><link rel="prefetch" href="/assets/js/2.85a612da.js"><link rel="prefetch" href="/assets/js/20.5d5d1cd7.js"><link rel="prefetch" href="/assets/js/21.c0ff3899.js"><link rel="prefetch" href="/assets/js/22.91831e25.js"><link rel="prefetch" href="/assets/js/23.f40319f3.js"><link rel="prefetch" href="/assets/js/24.e5dcb839.js"><link rel="prefetch" href="/assets/js/25.01cd9815.js"><link rel="prefetch" href="/assets/js/26.8cd2ae6e.js"><link rel="prefetch" href="/assets/js/27.2db2200b.js"><link rel="prefetch" href="/assets/js/28.fa1fda5c.js"><link rel="prefetch" href="/assets/js/29.f30bceb2.js"><link rel="prefetch" href="/assets/js/30.9596d366.js"><link rel="prefetch" href="/assets/js/32.b197e3a8.js"><link rel="prefetch" href="/assets/js/33.d8d1b429.js"><link rel="prefetch" href="/assets/js/34.0b5f9907.js"><link rel="prefetch" href="/assets/js/35.36e66884.js"><link rel="prefetch" href="/assets/js/5.c59a6ca3.js"><link rel="prefetch" href="/assets/js/6.defa6130.js"><link rel="prefetch" href="/assets/js/7.aa799e56.js"><link rel="prefetch" href="/assets/js/8.9f297dc9.js"><link rel="prefetch" href="/assets/js/9.e0bda7cd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d58853c8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">WTDR</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/Get.html" class="nav-link">获取</a></div><div class="nav-item"><a href="/Docs/" class="nav-link">WTDR 文档</a></div><div class="nav-item"><a href="/WP_Docs/" class="nav-link router-link-active">WTDR.Pack 文档</a></div><div class="nav-item"><a href="https://forum.wtdr.whatk.me/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WTDR!
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://whatk.me" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Whatk
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://windsys.win" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Windsys
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://blog.whatk.me/donate" target="_blank" rel="noopener noreferrer" class="nav-link external">
  投食
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/whatk233/WTDR-Docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/Get.html" class="nav-link">获取</a></div><div class="nav-item"><a href="/Docs/" class="nav-link">WTDR 文档</a></div><div class="nav-item"><a href="/WP_Docs/" class="nav-link router-link-active">WTDR.Pack 文档</a></div><div class="nav-item"><a href="https://forum.wtdr.whatk.me/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WTDR!
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://whatk.me" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Whatk
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://windsys.win" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Windsys
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://blog.whatk.me/donate" target="_blank" rel="noopener noreferrer" class="nav-link external">
  投食
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/whatk233/WTDR-Docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>WTDR.Pack 文档</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/WP_Docs/" class="sidebar-link">WTDR.Pack 介绍</a></li><li><a href="/WP_Docs/use4deploy.html" class="sidebar-link">系统部署调用</a></li><li><a href="/WP_Docs/applyconfig.html" class="sidebar-link">按配置应用</a></li><li><a href="/WP_Docs/applyoffice.html" class="sidebar-link">应用 Office</a></li><li><a href="/WP_Docs/applysingle.html" class="sidebar-link">应用单包</a></li><li><a href="/WP_Docs/cmdline.html" class="sidebar-link">命令行参数</a></li><li><a href="/WP_Docs/getoffice.html" class="sidebar-link">获取 OfficePack</a></li><li><a href="/WP_Docs/getpack.html" class="sidebar-link">获取 WTDR.Pack 包</a></li><li><a href="/WP_Docs/makepack.html" class="active sidebar-link">制作 WTDR.Pack 包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/WP_Docs/makepack.html#包命名规则" class="sidebar-link">包命名规则</a></li><li class="sidebar-sub-header"><a href="/WP_Docs/makepack.html#包结构" class="sidebar-link">包结构</a></li><li class="sidebar-sub-header"><a href="/WP_Docs/makepack.html#需要用到的工具" class="sidebar-link">需要用到的工具</a></li><li class="sidebar-sub-header"><a href="/WP_Docs/makepack.html#模板配置解读" class="sidebar-link">模板配置解读</a></li><li class="sidebar-sub-header"><a href="/WP_Docs/makepack.html#制作一个-chrome-包-示例" class="sidebar-link">制作一个 Chrome 包 (示例)</a></li><li class="sidebar-sub-header"><a href="/WP_Docs/makepack.html#制作一个轻度系统美化包（示例）" class="sidebar-link">制作一个轻度系统美化包（示例）</a></li><li class="sidebar-sub-header"><a href="/WP_Docs/makepack.html#更多思路" class="sidebar-link">更多思路</a></li><li class="sidebar-sub-header"><a href="/WP_Docs/makepack.html#其他" class="sidebar-link">其他</a></li><li class="sidebar-sub-header"><a href="/WP_Docs/makepack.html#测试" class="sidebar-link">测试</a></li></ul></li><li><a href="/WP_Docs/update.html" class="sidebar-link">更新指南</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="制作-wtdr-pack-包"><a href="#制作-wtdr-pack-包" class="header-anchor">#</a> 制作 WTDR.Pack 包</h1> <p>想要 WTDR.Pack 工作，那就要一个可以使他完成任务的<code>包(Pack)</code></p> <div class="custom-block danger"><p class="custom-block-title">注意</p> <p>该文档制作的包只适用于主程序 <code>1.6.0</code> 或更高版本</p></div> <div class="custom-block tip"><p class="custom-block-title">示例 WTDR.Pack 包</p> <p>文档中的示例包可到“<a href="/Get.html">获取</a>”下载</p> <p>需要更多软件包可以到 <a href="https://forum.wtdr.whatk.me/" target="_blank" rel="noopener noreferrer">WTDR!<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 下载</p></div> <h2 id="包命名规则"><a href="#包命名规则" class="header-anchor">#</a> 包命名规则</h2> <p><code>软件名_版本号_适用系统位数(可选)_适用系统版本(可选)_打包日期(可选)_作者(可选)_Pack.7z</code><br> <code>软件名_版本号_适用系统位数(可选)_适用系统版本(可选)_打包日期(可选)_作者(可选).Pack</code></p> <div class="custom-block tip"><p class="custom-block-title">WTDR.Pack 后缀名</p> <p>每个包的后缀名必须为：<br>
*_Pack.7z<br>
*.Pack</p></div> <div class="language- extra-class"><pre><code>例如：
Chrome_V80_Pack.7z
Chrome_V80_X64_Pack.7z
Chrome_V80_X64_Win10_200221_Whatk_Pack.7z
Chrome_V80_X64_Win10_200221_Whatk.Pack

不符合规则的包名：
Chrome_V80.7z
Chrome_V80_X64_Win10_200221_Whatk.Pack.7z
Chrome_V80_X64_Win10_200221_Whatk_Pack
</code></pre></div><p>虽然没有特别严格的检测，不过还是希望能规范一点吧 xD</p> <h2 id="包结构"><a href="#包结构" class="header-anchor">#</a> 包结构</h2> <div class="language- extra-class"><pre><code>WTDR.Pack 包
└@@Pack@@           (配置/工作目录)*
|   └Config.ini     (包配置文件)*
└其他目录/文件       (需要应用到指定位置的文件)

*为必须要存在
</code></pre></div><h2 id="需要用到的工具"><a href="#需要用到的工具" class="header-anchor">#</a> 需要用到的工具</h2> <ul><li>7-Zip</li> <li>WTDR.Pack 模板 (<a href="/Get.html">获取</a>)</li> <li>WTDR.Pack 主程序 (用于测试)</li> <li>VMWare/Vbox (用于测试)</li></ul> <h4 id="其他可选辅助工具"><a href="#其他可选辅助工具" class="header-anchor">#</a> 其他可选辅助工具</h4> <ul><li>Sandboxie</li> <li>SutWizard（1809+无法使用）</li> <li>RegShot</li> <li>Total Uninstall 专业版</li> <li>Uninstall Tool 专业版</li></ul> <h2 id="模板配置解读"><a href="#模板配置解读" class="header-anchor">#</a> 模板配置解读</h2> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code><span class="token selector">[Pack]</span>
<span class="token comment">;版本识别，通常保持无需修改*</span>
<span class="token constant">ConfigVer</span><span class="token attr-value"><span class="token punctuation">=</span>2</span>
<span class="token comment">;包标题，应用时显示*</span>
<span class="token constant">Title</span><span class="token attr-value"><span class="token punctuation">=</span></span>
<span class="token comment">;适用系统，多系统可用“,”隔开，留空则不做匹配</span>
<span class="token comment">;如：Win2000,WinXP,Win7,Win10</span>
<span class="token constant">Sys</span><span class="token attr-value"><span class="token punctuation">=</span></span>
<span class="token comment">;适用系统位数 X32 X64 ，留空不匹配</span>
<span class="token constant">Arch</span><span class="token attr-value"><span class="token punctuation">=</span></span>
<span class="token comment">;应用到位置</span>
<span class="token comment">;如：D:\Soft，可用系统变量，留空为系统盘</span>
<span class="token constant">Apply_Path</span><span class="token attr-value"><span class="token punctuation">=</span></span>
<span class="token comment">;应用时机（1、部署环境应用，2、桌面环境应用，部署环境应用部署环境应用和桌面环境应用都可以应用则留空）</span>
<span class="token constant">RunTiming</span><span class="token attr-value"><span class="token punctuation">=</span></span>
<span class="token comment">;自定义软件安装目录</span>
<span class="token comment">;实验性功能，适用于大部分软件安装包</span>
<span class="token comment">;支持系统变量，%Apply_Path% 为应用到位置的目录</span>
<span class="token comment">;该功能不保证所有程序都能自定义，同时在少少少数情况下，软件安装后会出现问题</span>
<span class="token constant">SetupPath</span><span class="token attr-value"><span class="token punctuation">=</span></span>
<span class="token selector">[Pack.Before]</span>
<span class="token comment">;应用前任务</span>
<span class="token constant">Task1</span><span class="token attr-value"><span class="token punctuation">=</span></span>
<span class="token comment">;Task2=</span>
<span class="token selector">[Pack.After]</span>
<span class="token comment">;应用后任务</span>
<span class="token constant">Task1</span><span class="token attr-value"><span class="token punctuation">=</span></span>
<span class="token comment">;Task2=</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">应用任务提示</p> <p>应用前/应用后任务的配置方式与“<a href="/Docs/runtask.html">WTDR 基本任务</a>”一致<br>
运行程序可以无需填写完整目录，只填写该程序文件名即可，例如：<br> <code>Setup.exe</code>会重置到<code>@@Pack@@\Setup.exe</code><br>
当然，如果没有需要运行的任务，可以将 <code>Pack.Before</code>、<code>Pack.After</code> 留空</p></div> <div class="custom-block tip"><p class="custom-block-title">应用时机解释</p> <p>部署环境应用：部署环境默认用户为 <code>SYSTEM</code> ，可以直接修改/覆盖/删除系统文件，通常建议能部署中应用的都部署中应用</p> <p>桌面环境应用：桌面环境中默认用户为 OOBE 时新建的用户，也就是当前登录的用户，无法可以直接修改/覆盖/删除系统文件，有些软件无法在 <code>SYSTEM</code> 账户环境下安装就可以在桌面环境下安装了</p> <p>通常建议优先在部署环境下应用，除非存在特殊情况</p></div> <div class="custom-block tip"><p class="custom-block-title">关于配置文件重写</p> <p><code>Pack_Config.ini</code> 可无需修改包而“重写”配置项</p></div> <h2 id="制作一个-chrome-包-示例"><a href="#制作一个-chrome-包-示例" class="header-anchor">#</a> 制作一个 Chrome 包 (示例)</h2> <p>Chrome 官方有提供静默安装参数，我们可以给安装包添加静默安装参数来静默安装 Chrome</p> <div class="custom-block tip"><p class="custom-block-title">要点</p> <p>通常尽量用能用静默参数调用安装包静默安装</p></div> <p>首先 <a href="https://cloud.google.com/chrome-enterprise/browser/download" target="_blank" rel="noopener noreferrer">获取企业版 Chrome 浏览器<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
解压模板，将 Chrome 安装包 复制到 <code>@@Pack@@</code> 文件夹中<br> <img src="/image/Snipaste_2020-02-21_21-56-34.jpg" alt=""><br> <img src="/image/Snipaste_2020-02-21_21-59-45.jpg" alt=""></p> <p>编辑 <code>Config.ini</code> 文件</p> <div class="language-ini line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br></div><pre class="language-ini"><code><span class="token selector">[Pack]</span>
<span class="token constant">ConfigVer</span><span class="token attr-value"><span class="token punctuation">=</span>2</span>
<span class="token comment">;包标题（用于应用时显示，不过Pack_Config.ini里的标题将优先显示）</span>
<span class="token constant">Title</span><span class="token attr-value"><span class="token punctuation">=</span>Chrome 80 浏览器 X64</span>
<span class="token comment">;适用系统，多系统可用“,”隔开，留空则不做匹配</span>
<span class="token comment">;Win2000,WinXP,Win7,Win10</span>
<span class="token constant">Sys</span><span class="token attr-value"><span class="token punctuation">=</span></span>
<span class="token comment">;适用系统位数 X32 X64 ，留空不匹配</span>
<span class="token constant">Arch</span><span class="token attr-value"><span class="token punctuation">=</span>X64</span>
<span class="token comment">;应用到位置（如：D:\Soft，可用系统变量，留空为系统盘）</span>
<span class="token constant">Apply_Path</span><span class="token attr-value"><span class="token punctuation">=</span></span>
<span class="token comment">;应用时机（1、环境部署应用，2、桌面环境应用，部署环境和桌面环境都可以应用则留空）</span>
<span class="token constant">RunTiming</span><span class="token attr-value"><span class="token punctuation">=</span></span>
<span class="token comment">;自定义软件安装目录 (实验性功能，适用于大部分软件安装包) (支持系统变量，%Apply_Path% 为应用到位置的目录) (该功能不保证所有程序都能自定义，同时在少少少数情况下，软件安装后会出现问题)</span>
<span class="token constant">SetupPath</span><span class="token attr-value"><span class="token punctuation">=</span></span>
<span class="token selector">[Pack.Before]</span>
<span class="token constant">Task1</span><span class="token attr-value"><span class="token punctuation">=</span></span>
<span class="token comment">;Task2=</span>
<span class="token selector">[Pack.After]</span>
<span class="token constant">Task1</span><span class="token attr-value"><span class="token punctuation">=</span>R|GoogleChromeStandaloneEnterprise64.msi|/qb</span>
<span class="token comment">;Task2=</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">要点</p> <p>代码高亮处(第4行)，设置标题，应用时会显示在 WTDR.Pack 主程序上<br>
代码高亮处(第9行)，因为下载下来的 Chrome 是64位版本的，我们就可以设置一个机器限制<br>
代码高亮处(第20行)，设置运行任务，使用静默安装参数<code>/qb</code>运行 Chrome 安装包</p></div> <p>配置好保存就可以使用<code>7-Zip</code>打包了<br>
打包完就可以拿去<a href="#%E6%B5%8B%E8%AF%95">测试</a>了</p> <img src="/image/Snipaste_2020-02-21_22-17-02.jpg" alt=""> <div class="custom-block tip"><p class="custom-block-title">要点</p> <p>请注意后缀名为 <code>*_Pack.7z</code> 或 <code>*.Pack</code></p></div> <h2 id="制作一个轻度系统美化包（示例）"><a href="#制作一个轻度系统美化包（示例）" class="header-anchor">#</a> 制作一个轻度系统美化包（示例）</h2> <p>该美化包打算实现以下效果：</p> <ul><li>更换系统壁纸</li> <li>任务栏图标居中</li> <li>任务栏透明</li></ul> <p>并且使用环境为 Win10</p> <p>首先就要准备需要实现的工具：</p> <ul><li>壁纸一张</li> <li><a href="https://github.com/mdhiggins/CenterTaskbar" target="_blank" rel="noopener noreferrer">CenterTaskbar<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (任务栏居中程序)</li> <li><a href="https://github.com/TranslucentTB/TranslucentTB" target="_blank" rel="noopener noreferrer">TranslucentTB<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (任务栏透明程序) (为了示例效果，下面用的是支持命令行调用的旧版绿色版)</li> <li><a href="https://whatk.me/setwallpaper" target="_blank" rel="noopener noreferrer">SetWallPaper<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (命令行设置壁纸程序)</li> <li>编写好任务栏居中、透明程序添加自启动的命令行脚本</li></ul> <p>准备好后就新建一个独立的文件夹，解压模板<br>
把需要应用的相关文件放到目录里</p> <img src="/image/Snipaste_2020-02-22_18-06-46.jpg" alt=""> <p>目录结构：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>当前目录
├@@Pack@@   (配置目录)
│   └Config.ini (配置文件)
│   └Startup.bat (设置自启动批处理)
│   └SetWallpaper.exe (命令行设置壁纸程序)
├CenterTaskbar
│   └CenterTaskbar.exe  (任务栏居中程序)
├TranslucentTB
│   └TranslucentTB.exe  (任务栏透明程序)
├Wallpaper
│   └thomas-bonometti-1252754-unsplash.jpg  (需要设置的壁纸)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>然后就可以开始编辑<code>Config.ini</code>配置文件了：</p> <div class="language-ini line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><div class="highlighted"> </div><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br></div><pre class="language-ini"><code><span class="token selector">[Pack]</span>
<span class="token constant">ConfigVer</span><span class="token attr-value"><span class="token punctuation">=</span>2</span>
<span class="token comment">;包标题（用于应用时显示，不过Pack_Config.ini里的标题将优先显示）</span>
<span class="token constant">Title</span><span class="token attr-value"><span class="token punctuation">=</span>老年康的轻量美化包</span>
<span class="token comment">;适用系统，多系统可用“,”隔开，留空则不做匹配</span>
<span class="token comment">;Win2000,WinXP,Win7,Win10</span>
<span class="token constant">Sys</span><span class="token attr-value"><span class="token punctuation">=</span>Win10</span>
<span class="token comment">;适用系统位数 X32 X64 ，留空不匹配</span>
<span class="token constant">Arch</span><span class="token attr-value"><span class="token punctuation">=</span></span>
<span class="token comment">;应用到位置（如：D:\Soft，可用系统变量，留空为系统盘）</span>
<span class="token constant">Apply_Path</span><span class="token attr-value"><span class="token punctuation">=</span>%Appdata%\</span>
<span class="token comment">;应用时机（1、部署中应用，2、首次进入桌面应用，部署中和桌面环境都可以应用则留空）</span>
<span class="token constant">RunTiming</span><span class="token attr-value"><span class="token punctuation">=</span>2</span>
<span class="token selector">[Pack.Before]</span>
<span class="token constant">Task1</span><span class="token attr-value"><span class="token punctuation">=</span>R|Startup.bat||1</span>
<span class="token comment">;Task2=</span>
<span class="token selector">[Pack.After]</span>
<span class="token constant">Task1</span><span class="token attr-value"><span class="token punctuation">=</span>R|SetWallpaper.exe|%Appdata%\Wallpaper\thomas-bonometti-1252754-unsplash.jpg</span>
<span class="token constant">Task2</span><span class="token attr-value"><span class="token punctuation">=</span>R|%Appdata%\CenterTaskbar\CenterTaskbar.exe|||1</span>
<span class="token constant">Task3</span><span class="token attr-value"><span class="token punctuation">=</span>R|%Appdata%\TranslucentTB\TranslucentTB.exe|||1</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">要点</p> <p>代码高亮处(第4行)，设置标题，应用时会显示在 WTDR.Pack 主程序上<br>
代码高亮处(第7行)，因为任务栏透明以及居中只支持 Win10，所以咱设置个系统限制<br>
代码高亮处(第11行)，释放 <code>CenterTaskbar</code>,<code>TranslucentTB</code>,<code>Wallpaper</code> 文件所到的位置<br>
代码高亮处(第13行)，因为<strong>设置壁纸涉及到当前用户</strong>，所以只能在桌面环境应用该包，咱做个限制<br>
代码高亮处(第15行)，<strong>隐藏</strong>执行批处理添加<code>CenterTaskbar</code>,<code>TranslucentTB</code>为开机启动<br>
代码高亮处(第18行)，调用<code>SetWallpaper.exe</code>为电脑设置<code>Wallpaper</code>文件夹中的壁纸<br>
代码高亮处(第19行)，<strong>不等待</strong> 运行释放到<code>%Appdata%</code>的任务栏居中程序<br>
代码高亮处(第20行)，<strong>不等待</strong> 运行释放到<code>%Appdata%</code>的任务栏透明程序</p></div> <div class="custom-block tip"><p class="custom-block-title">什么时候需要用到不同的应用时机？</p> <p><strong>释放文件/设置注册表/或其他操作为当前用户的</strong>，那就一定要以<code>桌面环境</code>运行<br> <code>%Appdata%</code> 系统环境变量指向的是 <code>C:\Users\用户名\AppData\Roaming</code> ，以及设置壁纸为设置当前用户的壁纸，所以只能在<code>桌面环境</code>运行
<code>部署环境</code>的用户为<code>SYSTEM</code>，系统最高权限的用户之一，<strong>只要涉及到修改/覆盖系统文件</strong>，通常建议在<code>部署环境</code>时机运行<br> <strong>释放文件/设置注册表/或其他操作不规定是否为当前用户的</strong>，都可以在<code>部署环境</code>运行<br>
当不确定所选环境是否能应用正常，可以上虚拟机进行测试</p></div> <p>配置完毕后就可以打包进行<a href="#%E6%B5%8B%E8%AF%95">测试</a>了<br> <img src="/image/Snipaste_2020-02-22_22-24-42.jpg" alt=""></p> <p>拉倒虚拟机运行 WTDR.Pack 主程序应用单包，当提示应用完成，就能看到内味了<br> <img src="/image/Snipaste_2020-02-22_22-26-32.jpg" alt=""></p> <h2 id="更多思路"><a href="#更多思路" class="header-anchor">#</a> 更多思路</h2> <p>还有很多思路，这里就不可能一一介绍完<br>
参考当前文档，尝试出不同思路，就可以制作出来更多用途的 WTDR.Pack 包<br>
制作完的话还可以分享到<a href="https://forum.wtdr.whatk.me/" target="_blank" rel="noopener noreferrer">论坛<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>上与大家分享~<br>
去尝试吧 xD</p> <h2 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h2> <p>当检测到<code>@@Pack@@</code>文件夹内存在<code>ApplyCancel</code>，将跳过应用该包以及应用后任务</p> <p><code>%ApplyPath%</code> 为 <code>应用到位置</code>变量 <span class="badge info" style="vertical-align:top;" data-v-2d14e43d>V1.6.1</span></p> <h2 id="测试"><a href="#测试" class="header-anchor">#</a> 测试</h2> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>应用单包不区分应用时机</p></div> <p>在虚拟机内(在实机我也不介意 xD)打开 WTDR.Pack 主程序，选择<code>应用单包</code>，在<code>应用单包</code>界面选择需要测试的包，然后点击<code>应用</code>，应用完毕检查效果就可以了</p> <img src="/image/Snipaste_2020-02-21_23-00-26.jpg" alt=""></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/whatk233/WTDR-Docs/edit/master/Docs/WP_Docs/makepack.md" target="_blank" rel="noopener noreferrer">编辑文档</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次修改:</span> <span class="time"> 2020 年 03 月 31 日 22:33:17</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/WP_Docs/getpack.html" class="prev">获取 WTDR.Pack 包</a></span> <span class="next"><a href="/WP_Docs/update.html">更新指南</a>
      →
    </span></p></div> </main> <div style="display:none"><script type="text/javascript" src="https://v1.cnzz.com/z_stat.php?id=1278521777&web_id=1278521777"></script></div> <div style="display:none"><script>var _hmt=_hmt||[];(function(){var hm=document.createElement(&quot;script&quot;);hm.src=&quot;https://hm.baidu.com/hm.js?80bacbb7514734aa9876fbe8c447812c&quot;;var s=document.getElementsByTagName(&quot;script&quot;)[0];s.parentNode.insertBefore(hm,s)})();</script></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.796c51a0.js" defer></script><script src="/assets/js/3.26375005.js" defer></script><script src="/assets/js/31.1956596c.js" defer></script><script src="/assets/js/4.ad5248e6.js" defer></script>
  </body>
</html>
