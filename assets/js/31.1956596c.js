(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{232:function(s,t,a){"use strict";a.r(t);var n=a(28),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"制作-wtdr-pack-包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#制作-wtdr-pack-包"}},[s._v("#")]),s._v(" 制作 WTDR.Pack 包")]),s._v(" "),a("p",[s._v("想要 WTDR.Pack 工作，那就要一个可以使他完成任务的"),a("code",[s._v("包(Pack)")])]),s._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("该文档制作的包只适用于主程序 "),a("code",[s._v("1.6.0")]),s._v(" 或更高版本")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("示例 WTDR.Pack 包")]),s._v(" "),a("p",[s._v("文档中的示例包可到“"),a("RouterLink",{attrs:{to:"/Get.html"}},[s._v("获取")]),s._v("”下载")],1),s._v(" "),a("p",[s._v("需要更多软件包可以到 "),a("a",{attrs:{href:"https://forum.wtdr.whatk.me/",target:"_blank",rel:"noopener noreferrer"}},[s._v("WTDR!"),a("OutboundLink")],1),s._v(" 下载")])]),s._v(" "),a("h2",{attrs:{id:"包命名规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#包命名规则"}},[s._v("#")]),s._v(" 包命名规则")]),s._v(" "),a("p",[a("code",[s._v("软件名_版本号_适用系统位数(可选)_适用系统版本(可选)_打包日期(可选)_作者(可选)_Pack.7z")]),a("br"),s._v(" "),a("code",[s._v("软件名_版本号_适用系统位数(可选)_适用系统版本(可选)_打包日期(可选)_作者(可选).Pack")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("WTDR.Pack 后缀名")]),s._v(" "),a("p",[s._v("每个包的后缀名必须为："),a("br"),s._v("\n*_Pack.7z"),a("br"),s._v("\n*.Pack")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("例如：\nChrome_V80_Pack.7z\nChrome_V80_X64_Pack.7z\nChrome_V80_X64_Win10_200221_Whatk_Pack.7z\nChrome_V80_X64_Win10_200221_Whatk.Pack\n\n不符合规则的包名：\nChrome_V80.7z\nChrome_V80_X64_Win10_200221_Whatk.Pack.7z\nChrome_V80_X64_Win10_200221_Whatk_Pack\n")])])]),a("p",[s._v("虽然没有特别严格的检测，不过还是希望能规范一点吧 xD")]),s._v(" "),a("h2",{attrs:{id:"包结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#包结构"}},[s._v("#")]),s._v(" 包结构")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("WTDR.Pack 包\n└@@Pack@@           (配置/工作目录)*\n|   └Config.ini     (包配置文件)*\n└其他目录/文件       (需要应用到指定位置的文件)\n\n*为必须要存在\n")])])]),a("h2",{attrs:{id:"需要用到的工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#需要用到的工具"}},[s._v("#")]),s._v(" 需要用到的工具")]),s._v(" "),a("ul",[a("li",[s._v("7-Zip")]),s._v(" "),a("li",[s._v("WTDR.Pack 模板 ("),a("RouterLink",{attrs:{to:"/Get.html"}},[s._v("获取")]),s._v(")")],1),s._v(" "),a("li",[s._v("WTDR.Pack 主程序 (用于测试)")]),s._v(" "),a("li",[s._v("VMWare/Vbox (用于测试)")])]),s._v(" "),a("h4",{attrs:{id:"其他可选辅助工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他可选辅助工具"}},[s._v("#")]),s._v(" 其他可选辅助工具")]),s._v(" "),a("ul",[a("li",[s._v("Sandboxie")]),s._v(" "),a("li",[s._v("SutWizard（1809+无法使用）")]),s._v(" "),a("li",[s._v("RegShot")]),s._v(" "),a("li",[s._v("Total Uninstall 专业版")]),s._v(" "),a("li",[s._v("Uninstall Tool 专业版")])]),s._v(" "),a("h2",{attrs:{id:"模板配置解读"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模板配置解读"}},[s._v("#")]),s._v(" 模板配置解读")]),s._v(" "),a("div",{staticClass:"language-ini line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-ini"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[Pack]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";版本识别，通常保持无需修改*")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ConfigVer")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";包标题，应用时显示*")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Title")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";适用系统，多系统可用“,”隔开，留空则不做匹配")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";如：Win2000,WinXP,Win7,Win10")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Sys")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";适用系统位数 X32 X64 ，留空不匹配")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Arch")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";应用到位置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";如：D:\\Soft，可用系统变量，留空为系统盘")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Apply_Path")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";应用时机（1、部署环境应用，2、桌面环境应用，部署环境应用部署环境应用和桌面环境应用都可以应用则留空）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RunTiming")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";自定义软件安装目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";实验性功能，适用于大部分软件安装包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";支持系统变量，%Apply_Path% 为应用到位置的目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";该功能不保证所有程序都能自定义，同时在少少少数情况下，软件安装后会出现问题")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SetupPath")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[Pack.Before]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";应用前任务")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Task1")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";Task2=")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[Pack.After]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";应用后任务")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Task1")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";Task2=")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("应用任务提示")]),s._v(" "),a("p",[s._v("应用前/应用后任务的配置方式与“"),a("RouterLink",{attrs:{to:"/Docs/runtask.html"}},[s._v("WTDR 基本任务")]),s._v("”一致"),a("br"),s._v("\n运行程序可以无需填写完整目录，只填写该程序文件名即可，例如："),a("br"),s._v(" "),a("code",[s._v("Setup.exe")]),s._v("会重置到"),a("code",[s._v("@@Pack@@\\Setup.exe")]),a("br"),s._v("\n当然，如果没有需要运行的任务，可以将 "),a("code",[s._v("Pack.Before")]),s._v("、"),a("code",[s._v("Pack.After")]),s._v(" 留空")],1)]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("应用时机解释")]),s._v(" "),a("p",[s._v("部署环境应用：部署环境默认用户为 "),a("code",[s._v("SYSTEM")]),s._v(" ，可以直接修改/覆盖/删除系统文件，通常建议能部署中应用的都部署中应用")]),s._v(" "),a("p",[s._v("桌面环境应用：桌面环境中默认用户为 OOBE 时新建的用户，也就是当前登录的用户，无法可以直接修改/覆盖/删除系统文件，有些软件无法在 "),a("code",[s._v("SYSTEM")]),s._v(" 账户环境下安装就可以在桌面环境下安装了")]),s._v(" "),a("p",[s._v("通常建议优先在部署环境下应用，除非存在特殊情况")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("关于配置文件重写")]),s._v(" "),a("p",[a("code",[s._v("Pack_Config.ini")]),s._v(" 可无需修改包而“重写”配置项")])]),s._v(" "),a("h2",{attrs:{id:"制作一个-chrome-包-示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#制作一个-chrome-包-示例"}},[s._v("#")]),s._v(" 制作一个 Chrome 包 (示例)")]),s._v(" "),a("p",[s._v("Chrome 官方有提供静默安装参数，我们可以给安装包添加静默安装参数来静默安装 Chrome")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("要点")]),s._v(" "),a("p",[s._v("通常尽量用能用静默参数调用安装包静默安装")])]),s._v(" "),a("p",[s._v("首先 "),a("a",{attrs:{href:"https://cloud.google.com/chrome-enterprise/browser/download",target:"_blank",rel:"noopener noreferrer"}},[s._v("获取企业版 Chrome 浏览器"),a("OutboundLink")],1),a("br"),s._v("\n解压模板，将 Chrome 安装包 复制到 "),a("code",[s._v("@@Pack@@")]),s._v(" 文件夹中"),a("br"),s._v(" "),a("img",{attrs:{src:s.$withBase("/image/Snipaste_2020-02-21_21-56-34.jpg"),alt:""}}),a("br"),s._v(" "),a("img",{attrs:{src:s.$withBase("/image/Snipaste_2020-02-21_21-59-45.jpg"),alt:""}})]),s._v(" "),a("p",[s._v("编辑 "),a("code",[s._v("Config.ini")]),s._v(" 文件")]),s._v(" "),a("div",{staticClass:"language-ini line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-ini"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[Pack]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ConfigVer")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";包标题（用于应用时显示，不过Pack_Config.ini里的标题将优先显示）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Title")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("Chrome 80 浏览器 X64")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";适用系统，多系统可用“,”隔开，留空则不做匹配")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";Win2000,WinXP,Win7,Win10")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Sys")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";适用系统位数 X32 X64 ，留空不匹配")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Arch")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("X64")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";应用到位置（如：D:\\Soft，可用系统变量，留空为系统盘）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Apply_Path")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";应用时机（1、环境部署应用，2、桌面环境应用，部署环境和桌面环境都可以应用则留空）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RunTiming")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";自定义软件安装目录 (实验性功能，适用于大部分软件安装包) (支持系统变量，%Apply_Path% 为应用到位置的目录) (该功能不保证所有程序都能自定义，同时在少少少数情况下，软件安装后会出现问题)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SetupPath")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[Pack.Before]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Task1")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";Task2=")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[Pack.After]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Task1")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("R|GoogleChromeStandaloneEnterprise64.msi|/qb")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";Task2=")]),s._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("要点")]),s._v(" "),a("p",[s._v("代码高亮处(第4行)，设置标题，应用时会显示在 WTDR.Pack 主程序上"),a("br"),s._v("\n代码高亮处(第9行)，因为下载下来的 Chrome 是64位版本的，我们就可以设置一个机器限制"),a("br"),s._v("\n代码高亮处(第20行)，设置运行任务，使用静默安装参数"),a("code",[s._v("/qb")]),s._v("运行 Chrome 安装包")])]),s._v(" "),a("p",[s._v("配置好保存就可以使用"),a("code",[s._v("7-Zip")]),s._v("打包了"),a("br"),s._v("\n打包完就可以拿去"),a("a",{attrs:{href:"#%E6%B5%8B%E8%AF%95"}},[s._v("测试")]),s._v("了")]),s._v(" "),a("img",{attrs:{src:s.$withBase("/image/Snipaste_2020-02-21_22-17-02.jpg"),alt:""}}),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("要点")]),s._v(" "),a("p",[s._v("请注意后缀名为 "),a("code",[s._v("*_Pack.7z")]),s._v(" 或 "),a("code",[s._v("*.Pack")])])]),s._v(" "),a("h2",{attrs:{id:"制作一个轻度系统美化包（示例）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#制作一个轻度系统美化包（示例）"}},[s._v("#")]),s._v(" 制作一个轻度系统美化包（示例）")]),s._v(" "),a("p",[s._v("该美化包打算实现以下效果：")]),s._v(" "),a("ul",[a("li",[s._v("更换系统壁纸")]),s._v(" "),a("li",[s._v("任务栏图标居中")]),s._v(" "),a("li",[s._v("任务栏透明")])]),s._v(" "),a("p",[s._v("并且使用环境为 Win10")]),s._v(" "),a("p",[s._v("首先就要准备需要实现的工具：")]),s._v(" "),a("ul",[a("li",[s._v("壁纸一张")]),s._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/mdhiggins/CenterTaskbar",target:"_blank",rel:"noopener noreferrer"}},[s._v("CenterTaskbar"),a("OutboundLink")],1),s._v(" (任务栏居中程序)")]),s._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/TranslucentTB/TranslucentTB",target:"_blank",rel:"noopener noreferrer"}},[s._v("TranslucentTB"),a("OutboundLink")],1),s._v(" (任务栏透明程序) (为了示例效果，下面用的是支持命令行调用的旧版绿色版)")]),s._v(" "),a("li",[a("a",{attrs:{href:"https://whatk.me/setwallpaper",target:"_blank",rel:"noopener noreferrer"}},[s._v("SetWallPaper"),a("OutboundLink")],1),s._v(" (命令行设置壁纸程序)")]),s._v(" "),a("li",[s._v("编写好任务栏居中、透明程序添加自启动的命令行脚本")])]),s._v(" "),a("p",[s._v("准备好后就新建一个独立的文件夹，解压模板"),a("br"),s._v("\n把需要应用的相关文件放到目录里")]),s._v(" "),a("img",{attrs:{src:s.$withBase("/image/Snipaste_2020-02-22_18-06-46.jpg"),alt:""}}),s._v(" "),a("p",[s._v("目录结构：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("当前目录\n├@@Pack@@   (配置目录)\n│   └Config.ini (配置文件)\n│   └Startup.bat (设置自启动批处理)\n│   └SetWallpaper.exe (命令行设置壁纸程序)\n├CenterTaskbar\n│   └CenterTaskbar.exe  (任务栏居中程序)\n├TranslucentTB\n│   └TranslucentTB.exe  (任务栏透明程序)\n├Wallpaper\n│   └thomas-bonometti-1252754-unsplash.jpg  (需要设置的壁纸)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("然后就可以开始编辑"),a("code",[s._v("Config.ini")]),s._v("配置文件了：")]),s._v(" "),a("div",{staticClass:"language-ini line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br")]),a("pre",{pre:!0,attrs:{class:"language-ini"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[Pack]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ConfigVer")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";包标题（用于应用时显示，不过Pack_Config.ini里的标题将优先显示）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Title")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("老年康的轻量美化包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";适用系统，多系统可用“,”隔开，留空则不做匹配")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";Win2000,WinXP,Win7,Win10")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Sys")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("Win10")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";适用系统位数 X32 X64 ，留空不匹配")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Arch")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";应用到位置（如：D:\\Soft，可用系统变量，留空为系统盘）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Apply_Path")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("%Appdata%\\")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";应用时机（1、部署中应用，2、首次进入桌面应用，部署中和桌面环境都可以应用则留空）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RunTiming")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[Pack.Before]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Task1")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("R|Startup.bat||1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";Task2=")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[Pack.After]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Task1")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("R|SetWallpaper.exe|%Appdata%\\Wallpaper\\thomas-bonometti-1252754-unsplash.jpg")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Task2")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("R|%Appdata%\\CenterTaskbar\\CenterTaskbar.exe|||1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Task3")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("R|%Appdata%\\TranslucentTB\\TranslucentTB.exe|||1")]),s._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("要点")]),s._v(" "),a("p",[s._v("代码高亮处(第4行)，设置标题，应用时会显示在 WTDR.Pack 主程序上"),a("br"),s._v("\n代码高亮处(第7行)，因为任务栏透明以及居中只支持 Win10，所以咱设置个系统限制"),a("br"),s._v("\n代码高亮处(第11行)，释放 "),a("code",[s._v("CenterTaskbar")]),s._v(","),a("code",[s._v("TranslucentTB")]),s._v(","),a("code",[s._v("Wallpaper")]),s._v(" 文件所到的位置"),a("br"),s._v("\n代码高亮处(第13行)，因为"),a("strong",[s._v("设置壁纸涉及到当前用户")]),s._v("，所以只能在桌面环境应用该包，咱做个限制"),a("br"),s._v("\n代码高亮处(第15行)，"),a("strong",[s._v("隐藏")]),s._v("执行批处理添加"),a("code",[s._v("CenterTaskbar")]),s._v(","),a("code",[s._v("TranslucentTB")]),s._v("为开机启动"),a("br"),s._v("\n代码高亮处(第18行)，调用"),a("code",[s._v("SetWallpaper.exe")]),s._v("为电脑设置"),a("code",[s._v("Wallpaper")]),s._v("文件夹中的壁纸"),a("br"),s._v("\n代码高亮处(第19行)，"),a("strong",[s._v("不等待")]),s._v(" 运行释放到"),a("code",[s._v("%Appdata%")]),s._v("的任务栏居中程序"),a("br"),s._v("\n代码高亮处(第20行)，"),a("strong",[s._v("不等待")]),s._v(" 运行释放到"),a("code",[s._v("%Appdata%")]),s._v("的任务栏透明程序")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("什么时候需要用到不同的应用时机？")]),s._v(" "),a("p",[a("strong",[s._v("释放文件/设置注册表/或其他操作为当前用户的")]),s._v("，那就一定要以"),a("code",[s._v("桌面环境")]),s._v("运行"),a("br"),s._v(" "),a("code",[s._v("%Appdata%")]),s._v(" 系统环境变量指向的是 "),a("code",[s._v("C:\\Users\\用户名\\AppData\\Roaming")]),s._v(" ，以及设置壁纸为设置当前用户的壁纸，所以只能在"),a("code",[s._v("桌面环境")]),s._v("运行\n"),a("code",[s._v("部署环境")]),s._v("的用户为"),a("code",[s._v("SYSTEM")]),s._v("，系统最高权限的用户之一，"),a("strong",[s._v("只要涉及到修改/覆盖系统文件")]),s._v("，通常建议在"),a("code",[s._v("部署环境")]),s._v("时机运行"),a("br"),s._v(" "),a("strong",[s._v("释放文件/设置注册表/或其他操作不规定是否为当前用户的")]),s._v("，都可以在"),a("code",[s._v("部署环境")]),s._v("运行"),a("br"),s._v("\n当不确定所选环境是否能应用正常，可以上虚拟机进行测试")])]),s._v(" "),a("p",[s._v("配置完毕后就可以打包进行"),a("a",{attrs:{href:"#%E6%B5%8B%E8%AF%95"}},[s._v("测试")]),s._v("了"),a("br"),s._v(" "),a("img",{attrs:{src:s.$withBase("/image/Snipaste_2020-02-22_22-24-42.jpg"),alt:""}})]),s._v(" "),a("p",[s._v("拉倒虚拟机运行 WTDR.Pack 主程序应用单包，当提示应用完成，就能看到内味了"),a("br"),s._v(" "),a("img",{attrs:{src:s.$withBase("/image/Snipaste_2020-02-22_22-26-32.jpg"),alt:""}})]),s._v(" "),a("h2",{attrs:{id:"更多思路"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更多思路"}},[s._v("#")]),s._v(" 更多思路")]),s._v(" "),a("p",[s._v("还有很多思路，这里就不可能一一介绍完"),a("br"),s._v("\n参考当前文档，尝试出不同思路，就可以制作出来更多用途的 WTDR.Pack 包"),a("br"),s._v("\n制作完的话还可以分享到"),a("a",{attrs:{href:"https://forum.wtdr.whatk.me/",target:"_blank",rel:"noopener noreferrer"}},[s._v("论坛"),a("OutboundLink")],1),s._v("上与大家分享~"),a("br"),s._v("\n去尝试吧 xD")]),s._v(" "),a("h2",{attrs:{id:"其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[s._v("#")]),s._v(" 其他")]),s._v(" "),a("p",[s._v("当检测到"),a("code",[s._v("@@Pack@@")]),s._v("文件夹内存在"),a("code",[s._v("ApplyCancel")]),s._v("，将跳过应用该包以及应用后任务")]),s._v(" "),a("p",[a("code",[s._v("%ApplyPath%")]),s._v(" 为 "),a("code",[s._v("应用到位置")]),s._v("变量 "),a("Badge",{attrs:{text:"V1.6.1",type:"info"}})],1),s._v(" "),a("h2",{attrs:{id:"测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[s._v("#")]),s._v(" 测试")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("应用单包不区分应用时机")])]),s._v(" "),a("p",[s._v("在虚拟机内(在实机我也不介意 xD)打开 WTDR.Pack 主程序，选择"),a("code",[s._v("应用单包")]),s._v("，在"),a("code",[s._v("应用单包")]),s._v("界面选择需要测试的包，然后点击"),a("code",[s._v("应用")]),s._v("，应用完毕检查效果就可以了")]),s._v(" "),a("img",{attrs:{src:s.$withBase("/image/Snipaste_2020-02-21_23-00-26.jpg"),alt:""}})])}),[],!1,null,null,null);t.default=e.exports}}]);